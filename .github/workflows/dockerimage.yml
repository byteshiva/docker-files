name: Docker Image Push for Changed Dockerfiles

on: push

jobs:

  build:

    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
#       - name: get changed files
#         id: getfile
        
#         run: |
#           echo "::set-output name=files::$(git diff-tree --no-commit-id --name-only -r ${{ github.sha }} | xargs)"

#       - name: echo output
#         run: |
#           echo ${{ steps.getfile.outputs.files }}
          
      
      - uses: actions/setup-python@v1
      - name: Checkout submodules
        shell: bash
        run: |
           changed_files="$(git diff-tree --no-commit-id --name-only -r 5b1705b68444794feb7cf41d531c85b5a6c5e027)"
           echo $changed_files
